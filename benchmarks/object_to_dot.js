// Generated by CoffeeScript 1.10.0
(function() {
  var Benchmark, _, convert_to_dot_object, convert_to_dot_object_native, data, suite;

  _ = require("lodash");

  Benchmark = require('benchmark');

  suite = new Benchmark.Suite;

  "use strict";

  data = {
    person: {
      profile: {
        name: 'something',
        email: 'something'
      },
      address: {
        street: 'some street'
      }
    },
    food: {
      breakfast: 'bread'
    }
  };

  convert_to_dot_object = function(data, resultsToLoop, key) {
    if (!resultsToLoop) {
      resultsToLoop = {};
    }
    return _.each(data, function(item, index) {
      index = key ? key + "." + index : index;
      if (typeof item === 'object') {
        return convert_to_dot_object(item, resultsToLoop, index);
      } else {
        return resultsToLoop[index] = item;
      }
    });
  };

  convert_to_dot_object_native = function(data, resultsToLoop, key) {
    var index, item;
    if (!resultsToLoop) {
      resultsToLoop = {};
    }
    for (index in data) {
      item = data[index];
      index = key ? key + "." + index : index;
      if (typeof item === 'object') {
        convert_to_dot_object(item, resultsToLoop, index);
      } else {
        resultsToLoop[index] = item;
      }
    }
    return resultsToLoop;
  };

  suite.add('Converting object to dot notation using underscore', function() {
    return convert_to_dot_object(data);
  }).add('Converting object to dot notation using native for loop', function() {
    return convert_to_dot_object_native(data);
  }).on('cycle', function(event) {
    return console.log(String(event.target));
  }).on('complete', function() {
    return console.log("Fastest is " + (this.filter('fastest').pluck('name')));
  }).run({
    'async': true
  });

}).call(this);
